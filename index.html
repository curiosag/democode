<!DOCTYPE html>
<html>

<head>
<meta charset='utf-8'>
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="description" content="Demo Code : ">

<link rel="stylesheet" type="text/css" media="screen"
	href="stylesheets/stylesheet.css">

<title>Demo Code</title>

<style type="text/css">
ul#tabs {
	list-style-type: none;
	margin: 30px 0 0 0;
	padding: 0 0 0.3em 0;
}

ul#tabs li {
	display: inline;
}

ul#tabs li a {
	color: #42454a;
	background-color: #dedbde;
	border: 1px solid #c9c3ba;
	border-bottom: none;
	padding: 0.3em;
	text-decoration: none;
}

ul#tabs li a:hover {
	background-color: #f1f0ee;
}

ul#tabs li a.selected {
	color: #000;
	background-color: #f1f0ee;
	font-weight: bold;
	padding: 0.7em 0.3em 0.38em 0.3em;
}

div.tabContent {
	border: 1px solid #c9c3ba;
	padding: 0.5em;
	background-color: #f1f0ee;
}

div.tabContent.hide {
	display: none;
}
</style>

<script type="text/javascript">
	//<![CDATA[

	var tabLinks = new Array();
	var contentDivs = new Array();

	function init() {

		// Grab the tab links and content divs from the page
		var tabListItems = document.getElementById('tabs').childNodes;
		for (var i = 0; i < tabListItems.length; i++) {
			if (tabListItems[i].nodeName == "LI") {
				var tabLink = getFirstChildWithTagName(tabListItems[i], 'A');
				var id = getHash(tabLink.getAttribute('href'));
				tabLinks[id] = tabLink;
				contentDivs[id] = document.getElementById(id);
			}
		}

		var i = 0;
		for ( var id in tabLinks) {
			tabLinks[id].onclick = showTab;
			tabLinks[id].onfocus = function() {
				this.blur()
			};
			if (i == 0)
				tabLinks[id].className = 'selected';
			i++;
		}

		// Hide all content divs except the first
		var i = 0;
		for ( var id in contentDivs) {
			if (i != 0)
				contentDivs[id].className = 'tabContent hide';
			i++;
		}
	}

	function showTab() {
		var selectedId = getHash(this.getAttribute('href'));

		for ( var id in contentDivs) {
			if (id == selectedId) {
				tabLinks[id].className = 'selected';
				contentDivs[id].className = 'tabContent';
			} else {
				tabLinks[id].className = '';
				contentDivs[id].className = 'tabContent hide';
			}
		}

		// Stop the browser following the link
		return false;
	}

	function getFirstChildWithTagName(element, tagName) {
		for (var i = 0; i < element.childNodes.length; i++) {
			if (element.childNodes[i].nodeName == tagName)
				return element.childNodes[i];
		}
	}

	function getHash(url) {
		return url.substring(url.lastIndexOf('#') + 1);
	}

	//]]>
</script>

</head>

<body onload="init()">

	<!-- HEADER -->
	<div id="header_wrap" class="outer">
		<header class="inner">
			<a id="forkme_banner" href="https://github.com/curiosag/democode">View
				on GitHub</a>

			<h1 id="project_title">Demo Code</h1>
			<h2 id="project_tagline"></h2>

			<section id="downloads">
				<a class="zip_download_link"
					href="https://github.com/curiosag/democode/zipball/master">Download
					this project as a .zip file</a> <a class="tar_download_link"
					href="https://github.com/curiosag/democode/tarball/master">Download
					this project as a tar.gz file</a>
			</section>
		</header>
	</div>

	<!-- MAIN CONTENT -->
	<div id="main_content_wrap" class="outer">
		<section id="main_content" class="inner">

			<p>A selection of sample code, with brief descriptions of the
				related projects.</p>
			<p>Please note that the code samples are for most parts heavily
				abbreviated and altered due to non-disclosure obligations. Some
				proof of concepts (PoC) are compilable, though.</p>

			<ul id="tabs">
				<li><a href="#Oracle">Oracle</a></li>
				<li><a href="#DotNet">C#</a></li>
				<li><a href="#Delphi">Delphi</a></li>
			</ul>

			<div class="tabContent" id="Oracle">
				<h2>ELT</h2>
				<div>
					application/business-logic as triggers and Pl/Sql. <br> <br>ETL-Jobs
					(or ELT, if you like) jobs were done in Oracle entirely, eventually
					feeding a master data management system, also on Oracle. <br>
					<br>Initial extraction was done with Oracle Loader, loading <a
						href="https://github.com/curiosag/democode/blob/master/Oracle/ETL/LoaderFiles/FitchLoader.dat">comma
						separated </a> and <a
						href="https://github.com/curiosag/democode/blob/master/Oracle/ETL/LoaderFiles/S%26PLoader.dat">fixed
						length </a> formats to staging tables, non-recoverable and non-logged
					in append mode. Wherever possible type conversion was left to the
					loader too, as in the examples shown. <br> <br>Where not,
					type conversion was handled in <a
						href="https://github.com/curiosag/democode/blob/master/Oracle/ETL/PlSql/v_price_transf_eval.sql">
						transformation views</a>, usually simultaneously with the application
					of business rules. The latter could be rather elaborate functions
					like the peculiar amend date decoding in <a
						href="https://github.com/curiosag/democode/blob/master/Oracle/ETL/PlSql/PRO%23.pkb">
						this package</a> (check_amenddt, test_amend_date), where also the
					default insert-from-view error handling is shown (load_data). <br>
					<br>In one case I was happy to find an occasion to apply a <a
						href="https://github.com/curiosag/democode/blob/master/Oracle/ETL/PlSql/PipelinedFunctionConvertRawWssRecord.sql">
						parallel pipelined function </a> (plus the related <a
						href="https://github.com/curiosag/democode/blob/master/Oracle/ETL/PlSql/TransformRawRecord%23.pkb">
						implementing package </a> for the decoding proper) to extract raw
					values from a colon-separated-key-value-pairs format to feed a <a
						href="https://github.com/curiosag/democode/blob/master/Oracle/ETL/PlSql/v_transform_wss.sql">
						subsequent transformation view </a> and <a
						href="https://github.com/curiosag/democode/blob/master/Oracle/ETL/PlSql/TransformAndLoad%23.pkb">
						loading </a> to the final staging table. In this case the <a
						href="https://github.com/curiosag/democode/blob/master/Oracle/ETL/LoaderFiles/WssLoader.dat">Oracle
						loader file</a> is trivial. <br> <br>Business rule views
					also could come in their own right, like in <a
						href="https://github.com/curiosag/democode/blob/master/Oracle/ETL/PlSql/v_cp_rating_eval.sql">
						this example</a> , where the analytical functions of Oracle handed
					themselves nicely to implemented a given set of requirements, in
					this case for Standard and Poor's ratings. <br> <br>Rating
					processing for the big 3 providers (Standard and Poor's, Moody's,
					Fitch) proved to be uniform enough to apply the same strategy to
					all of them and implementing <a href="https://github.com/curiosag/"DotNet/BaseDataRequest.cs"democode/blob/master/Oracle/ETL/PlSql/RTG_UTIL%23.pkb">"object
						orientation like code reuse" </a> by constructing sql at runtime
					(uniform table names were no option). It was a trade of
					maintainability and DRYness against ease of implementation and
					readability. See for example PROCEDURE SYNC_mdm, which synchronizes
					the master data management with the current load. Access to the
					master data was the bottleneck, therefore caching
					(g_mdm_classnames, FUNCTION get_class_name) and one time copies of
					relevant master data (e.g. rating symbols, PROCEDURE
					collect_symbols) were employed and table statistics kept up to date
					(gather_table_stats).

				</div>
				<h2>Master data management synchronization</h2>
				Master data management synchronization usually meant, spelling out
				loads of business rules and mappings in PlSql, apply them record
				based, field by field, to preloaded data and fiddle the results
				through a complex PlSql-Api to the database. The sample is a tiny
				fraction of asset synchronization, the central task of it all. <br>
				<br>Since heavy use of objects was made on all levels,
				occasionally object representations had to be undone and serialized
				for a number of reasons. Aside custom ELT, data travelled via Xml
				messaging, including creation and sending as well as message
				consumption. The latter used DOM-access and XQuery.
				<div></div>
			</div>

			<div class="tabContent" id="DotNet">
				<h2>C#</h2>
				<div>
					<p>A high level ftp class with specialized subclasses to
						provide straight forward ftp functionality, implemented with .net
						web requests, and emulated ftp functionality operating on the
						filesystem. The latter was used to emulate the ftp delivery logic
						of different data providers.</p>
					<p>A study to leverage Linq to express data processing
						sequences.</p>
					<p>Proof of concept and pilot implementation - generate an
						object model from Telekurs metadata definitions and show, that it
						is possible to re-implement existing sql-queries on Telekurs valor
						data feed using the object model and Linq. Core elements of the
						initial product implementation, thought it was not appropriate to
						mimic Sql there.</p>
				</div>
			</div>

			<div class="tabContent" id="Delphi">
				<h2>Delphi</h2>
				<div>
					<p>Some elements of a client-server framework, splitting a
						monolithic implementation into a client part that runs, monitors
						and controls sequences of data processing and a server part,
						responsible for execution and resource allocation for multiple
						client requests. Requests came in form of data processing messages
						(TDpMessageCommon), bundling sequences of commands and their
						necessary execution parameters. The server translates
						(uActionFactory_b, uActionFactoryFetchExternalData) them to
						actions (uAction_b, uDbActions) which eventually get executed.
						Client- Server and associated proxy-classes are not included here.</p>

					<p>Elements of a generic storage and data retrieval framework,
						that I implemented following an abstract design
						(uDataAccessLayer_a) aimed at the provider structure level.
						Everything down to the physical tables had to be spelled out. It
						supports native simultaneous access to Oracle, Db2 (including
						transparent DML array loading), DbIsam and non-natively anything
						that BDE supported. Data writing is tree oriented and handles CRUD
						operations transparently for using classes. It is metadata-driven,
						metadata is a minimalistic pointer structure (uMd) giving rise to
						some pointer juggling (uMdUtil). The abstract level was backed by
						custom classes and eventually by a general table access layer
						(uCustomTableAccess) with database specific implementations,
						hiding the nasty details. For examples of nasty details see
						uOraTableExt, uSQLFormat_DB2 and uDB2Writer. Database structures
						get generated from metadata (e.g. uOraTableExt.CreateTable, after
						being translated to Delphi FieldDefs) and can be altered
						automatically on metadata changes.</p>
				</div>
			</div>

		</section>
	</div>


	<!-- FOOTER  -->
	<div id="footer_wrap" class="outer">
		<footer class="inner">
			<p class="copyright">
				Demo Code maintained by <a href="https://github.com/curiosag">curiosag</a>
			</p>
			<p>
				Published with <a href="https://pages.github.com">GitHub Pages</a>
			</p>
		</footer>
	</div>


</body>
</html>
